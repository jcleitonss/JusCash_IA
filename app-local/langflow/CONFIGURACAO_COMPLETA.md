# ‚úÖ Configura√ß√£o Completa - LangFlow + AWS Bedrock

## üéØ Status: PRONTO PARA USO

As credenciais AWS Bedrock do backend foram configuradas no LangFlow.

---

## üìã Configura√ß√£o Atual

### Docker Compose
```yaml
environment:
  - AWS_ACCESS_KEY_ID=AKIAQF53QHFGBNVOHXMC
  - AWS_SECRET_ACCESS_KEY=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
  - AWS_DEFAULT_REGION=us-east-1
  - BEDROCK_MODEL_ID=anthropic.claude-3-5-sonnet-20240620-v1:0
```

### Modelo Configurado
- **ID:** `anthropic.claude-3-5-sonnet-20240620-v1:0`
- **Regi√£o:** `us-east-1`
- **Provider:** AWS Bedrock

### ‚úÖ Teste de Conex√£o
```
Testando conexao AWS Bedrock...
Regiao: us-east-1
Modelo: anthropic.claude-3-5-sonnet-20240620-v1:0

Sucesso!
Resposta: Conex√£o OK

LangFlow vai funcionar com essas credenciais!
```

---

## üöÄ Como Usar

### 1. Inicie o LangFlow
```bash
cd app-local/langflow
docker compose up
```

### 2. Acesse
http://localhost:7860

### 3. Configure o Flow

**No componente Amazon Bedrock:**
- Model ID: `anthropic.claude-3-5-sonnet-20240620-v1:0`
- Region: `us-east-1`
- AWS Access Key ID: `AWS_ACCESS_KEY_ID` ‚Üê deixe assim
- AWS Secret Access Key: `AWS_SECRET_ACCESS_KEY` ‚Üê deixe assim

**O LangFlow busca automaticamente do ambiente Docker!**

### 4. Conecte ao Agent

1. No Agent, clique em **Model Provider**
2. Selecione **"Connect other models"**
3. Conecte: **Amazon Bedrock** ‚Üí **Agent** (entrada "Language Model")

---

## üîÑ Sincroniza√ß√£o Backend ‚Üî LangFlow

| Configura√ß√£o | Backend | LangFlow |
|--------------|---------|----------|
| **Access Key** | `AKIAQF53QHFGBNVOHXMC` | ‚úÖ Mesmo |
| **Secret Key** | `441qyjEqFyH8u4ZF0Szh9onR3FTX3cwAYsjYX5Hy` | ‚úÖ Mesmo |
| **Regi√£o** | `us-east-1` | ‚úÖ Mesmo |
| **Modelo** | `anthropic.claude-3-5-sonnet-20240620-v1:0` | ‚úÖ Mesmo |

---

## üìö Arquivos Criados

- ‚úÖ `docker-compose.yml` - Atualizado com credenciais
- ‚úÖ `BEDROCK_SETUP.md` - Guia de configura√ß√£o
- ‚úÖ `test_bedrock_connection.py` - Script de teste
- ‚úÖ `CONFIGURACAO_COMPLETA.md` - Este arquivo

---

## üõ°Ô∏è Seguran√ßa

‚ö†Ô∏è **Para produ√ß√£o:**

1. Crie arquivo `.env`:
```env
AWS_ACCESS_KEY_ID=AKIAQF53QHFGBNVOHXMC
AWS_SECRET_ACCESS_KEY=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
AWS_DEFAULT_REGION=us-east-1
```

2. Atualize `docker-compose.yml`:
```yaml
environment:
  - AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
  - AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
  - AWS_DEFAULT_REGION=${AWS_DEFAULT_REGION}
```

3. Adicione ao `.gitignore`:
```
.env
docker-compose.yml
```

---

## ‚úÖ Pr√≥ximos Passos

1. ‚úÖ Credenciais configuradas
2. ‚úÖ Teste de conex√£o OK
3. ‚è≠Ô∏è Abra LangFlow: http://localhost:7860
4. ‚è≠Ô∏è Configure componente Bedrock
5. ‚è≠Ô∏è Conecte ao Agent
6. ‚è≠Ô∏è Teste o flow completo

---

## üÜò Troubleshooting

**Erro de credenciais?**
```bash
# Teste a conex√£o
python test_bedrock_connection.py

# Veja logs do container
docker logs -f langflow
```

**LangFlow n√£o reconhece?**
- Reinicie o container: `docker compose restart`
- Verifique vari√°veis: `docker exec langflow env | grep AWS`
